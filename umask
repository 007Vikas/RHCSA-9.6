Q> 
Set the permission
    a) All new creating files for user natasha as -r--------- as default permission
    b) All new creating directories for user natasha as dr-x------ as default permission


A>
ğŸ”¹ Default Creation Modes in Linux

Files default umask: 666        ## Files: maximum 666 (rw-rw-rw-) â†’ because execute (x) is never given by default.
Directory default umask: 777    ## Directories: maximum 777 (rwxrwxrwx).
The final permission = default max permission âˆ’ umask.

First thing switch to user natasha and check the umask which is 0022

ğŸ”¹ Part (a) Files >> -r---------

Target permission = 400 (rw- for owner, nothing else).
Default file permission = 666.

So we calculate umask:

666
-400
-----
266  â†’ umask = 266


âœ… Solution: For user natasha, set umask to 266 so that all new files will get 400.


ğŸ”¹ Part (b) Directories >> dr-x------

Target permission = 500 (r-x for owner, nothing else).
Default directory permission = 777.

So we calculate umask:

777
-500
-----
277  â†’ umask = 277


âœ… Solution: For user natasha, set umask to 277 so that all new directories will get 500.



We need to make the permanent changes in .bash_profile file which is present in /home/natasha
vi .bash_profile

umask 277

Now source it and check umask again: source .bash_profile which is 0277

To verify: Make 1 file and directory and check its permission


âš ï¸ But hereâ€™s the catch:

A single umask applies to both files and directories.

You cannot directly make files = 400 and directories = 500 at the same time using just umask.

ğŸ‘‰ To achieve this exact requirement, youâ€™d need to:

Use umask to set a restrictive base (like 277).

Then adjust file creation with a wrapper script or ACL.


âœ… RHCSA Exam Tip:
In the real exam, they usually ask simpler umask-based defaults (like "set all new files to 640 and directories to 750"), which can be achieved with a single umask value.
